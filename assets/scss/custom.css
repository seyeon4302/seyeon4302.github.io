/* ================================
   SERA Lab - Custom Styles (CSS)
   - 배너: 고려대 크림슨
   - 헤더: 진입 시 반투명, 스크롤 후 .nav-bg로 다크
   - 헤더/배너 겹침 방지 + 컴팩트 패딩
   ================================= */

/* ===== 배너만 크림슨 ===== */
.bg-ku-crimson { background-color: #A6192E !important; }
.page-title,
.page-title-alt {
  background-image: none !important;
  background-color: #A6192E !important;
}

/* 기본 배너 패딩 (짧게) */
.page-title-alt {
  padding-top: 0.2rem;
  padding-bottom: 0.2rem;
}
@media (min-width: 992px) {
  .page-title-alt { padding-top: 1.25rem; padding-bottom: 1.25rem; }
}

/* ===== 헤더: 초기 반투명 → 스크롤 시 완전 다크(.nav-bg) ===== */
.navigation {
  position: fixed; top: 0; left: 0; right: 0;
  z-index: 1030 !important;

  /* 초기: 반투명 다크 + 글라스 효과 */
  background-color: rgba(34, 34, 34, 0.35);
  -webkit-backdrop-filter: saturate(150%) blur(6px);
  backdrop-filter: saturate(150%) blur(6px);

  transition: background-color .3s ease, box-shadow .3s ease, backdrop-filter .3s ease, padding .2s ease;
  box-shadow: none;
  border-bottom: 1px solid rgba(255,255,255,0.08);
}

/* 스크롤 후(또는 강제로) 적용될 상태: 완전 다크 */
.navigation.nav-bg {
  background-color: #222 !important;
  -webkit-backdrop-filter: none;
  backdrop-filter: none;
  box-shadow: 0 2px 10px rgba(0,0,0,.12);
  border-bottom: none;
}

/* 네비 항목 가독성 (화이트) + 살짝의 텍스트 그림자 */
.navbar-dark .navbar-nav .nav-link {
  color: #fff !important;
  text-shadow: 0 1px 2px rgba(0,0,0,.4);
}
.navbar-dark .navbar-nav .nav-link:hover,
.navbar-dark .navbar-nav .nav-link:focus,
.navbar-dark .navbar-nav .nav-link.active {
  color: #f8f9fa !important;
}

/* ===== 헤더 컴팩트 높이 ===== */
.navigation .navbar {
  padding-top: 0.1rem !important;
  padding-bottom: 0.1rem !important;
}
/* 메뉴 아이템 자체 패딩도 살짝 축소 */
.navbar-dark .navbar-nav .nav-link {
  padding-top: 0.25rem !important;
  padding-bottom: 0.25rem !important;
}
/* 로고 높이 조정 */
.navbar-brand img { max-height: 30px; }

/* ===== 헤더 높이 변수 & 기본 오프셋 ===== */
:root { --navbar-height: 56px; }                 /* 모바일 기준 */
@media (min-width: 992px) { :root { --navbar-height: 60px; } }  /* 데스크톱 */

/* 기본: 히어로(배너) 없는 페이지는 body 상단 패딩으로 공간 확보 */
body { padding-top: var(--navbar-height); }

/* ✅ 히어로(배너) 있는 페이지는 body 패딩 제거 + 배너 상단패딩에 헤더높이 더하기 */
body.has-hero { padding-top: 0; }
body.has-hero .page-title,
body.has-hero .page-title-alt {
  padding-top: calc(1.25rem + var(--navbar-height));
}
@media (max-width: 991.98px) {
  body.has-hero .page-title,
  body.has-hero .page-title-alt {
    padding-top: calc(1rem + var(--navbar-height));
  }
}

/* ===== 접근성: 투명/블러 최소화 선호 시 ===== */
@media (prefers-reduced-transparency: reduce),
       (prefers-reduced-motion: reduce) {
  .navigation {
    background-color: rgba(34,34,34,0.85);
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
  }
}

/* ===== 기타 개선 ===== */
.navbar-toggler { outline: none; box-shadow: none !important; }
